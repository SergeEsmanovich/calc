<div id='new_maket' class='container'>
    <div>
        <div class="big_block">
            <div class='title'>
                <span class="pull-left">Выбор промышленного светильника</span>
                <span class="help pull-left"  tooltip-placement="right" tooltip="Подсказка справа">?</span>
                <div class="clear"></div>
            </div>
            <div class="border-right">
                <div class="block">
                    <div><label>Тип лампы (тип светильника)</label></div>
                    <div>
                        <ul class="list-inline">
                            <li ng-repeat="type_lamp in DBheader.type_lamp track by $index">
                                <input  ng-click="DBheader.type_lamp_check(type_lamp.id)" type="checkbox">
                                <label>{{type_lamp.name}}</label>
                            </li>
                        </ul>

                    </div>
                    <div class="level_of_protection">
                        <label class="mr">Степень защиты IP</label>
                        <label class="black">от</label>
                        <input ng-blur="DBheader.ip_begin_valid()" ng-model="DBheader.ip_begin" class="mr  form-control" type="text">
                        <label class="black">до</label>
                        <input ng-blur="DBheader.ip_end_valid()" ng-model="DBheader.ip_end" class="form-control" type="text">
                    </div>
                </div>
                <div class="border power_lamp">
                    <div>
                        <label>Мощность светильника, Вт</label>
                    </div>
                    <div>
                        <div class="inline">
                            <label class="black">от</label>
                            <input class="mr  form-control" ng-model="DBheader.power[0]" type="text">
                            <label class="black">до</label>
                            <input  class="form-control" ng-model="DBheader.power[1]" type="text">
                        </div>
                        <div class="inline slider">
                            <div class="slide">
                                <div ui-slider="{range: true}" min="10" max="400" step="10"   ng-model="DBheader.power">
                                </div> 
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clear"></div>
                <div class="pribor">
                    <div class="inline">
                        <div class="select">
                            <div class="label red">
                                <span>Серия</span>
                            </div>
                            <div class="item">
                                <!--                                <ui-select ng-model="area.seria">
                                                                    <ui-select-match placeholder="">{{$select.selected.seria}}</ui-select-match>
                                                                    <ui-select-choices group-by="'groupe'" repeat="item in DBheader.filtred_seria">
                                                                        <div ng-bind-html="item.seria | highlight: $select.search"></div>
                                                                    </ui-select-choices>
                                                                </ui-select>-->
                                <select class="form-control" ng-model="area.seria" convert-to-number>
                                    <option ng-value="item.id" ng-repeat="item in DBheader.filtred_seria  track by $index">
                                        {{item.seria}}
                                    </option>
                                </select> 
                            </div>
                        </div>
                    </div>
                    <div class="inline"> 
                        <div class="select">
                            <div class="label red">
                                <span>Название</span>
                            </div>
                            <div class="item name">
                                <select ng-disabled="DBheader.disable_sel_name" class="form-control" ng-model="area.pribor" convert-to-number>
                                    <option ng-value="item.id" ng-repeat="item in DBheader.content  track by $index">
                                        {{item.name}}
                                    </option>
                                </select> 
                            </div>
                            <div class="clear"></div>
                        </div>
                    </div>
                    <div class="image">
                        <img src="{{DBheader.image}}" alt="">
                    </div>
                </div>

            </div>   
        </div>
        <div class="big_block">
            <div class='title'>Параметры помещения</div>
            <div class="block params_area">
                <div class="pull-left params">
                    <div>
                        <label class="pull-left" >Высота потолков, м</label>
                        <input ng-model="area.height.val"  class="form-control pull-left" type="text">
                    </div>
                    <div class="clear"></div>
                    <div>
                        <label class="pull-left">Длинна подвеса, м</label>
                        <input ng-model="area.lamp_location_height.val" class="form-control pull-left" type="text">
                        <span class="help pull-left"  tooltip-placement="right" tooltip="Подсказка справа">?</span>
                    </div>
                    <div class="clear"></div>   
                </div>
                <div class="pull-right params">
                    <div>
                        <label>Длинна, м</label>
                        <input  ng-model="area.length.val" class="form-control" type="text">
                    </div>
                    <div>
                        <label>Ширина, м</label>
                        <input  ng-model="area.width.val" class="form-control" type="text">
                    </div>
                </div>
            </div>
            <div class="clear"></div>
            <div class="border">
                <div>
                    <span class="pull-right help"  tooltip-placement="left" tooltip="Подсказка слева">?</span>
                </div>
                <div  class="pull-left typearea">
                    <label>Тип помещения</label>
                </div>
                <div class="pull-left">
                    <ul class="list-unstyled">
                        <li>
                            <input ng-model="area.type" value="1" type="radio">
                            <label>Производственное</label>
                        </li>
                        <li>
                            <input ng-model="area.type" value="2" type="radio">
                            <label>Общественное или жилое</label>
                        </li>
                    </ul>
                </div>
                <div class="clear"></div>
                <div class="pull-left typearea">
                    <label>Уровень загрязнения</label>
                </div>
                <div class="pull-left pollution_level">
<!--                    <select class="form-control" ng-model="area.reflection" convert-to-number>
                        <option ng-value="$index" ng-repeat="item in reflections track by $index">
                            {{item}}
                        </option>
                    </select> -->
                </div>
                <div class="clear"></div>
                <hr>
                <div class="factors">
                    <div class="pull-left">
                        <span>
                            Коэффициент запаса
                        </span>
                        <input ng-model="area.safety_factor" class="form-control" type="text">
                    </div>
                    <div class="pull-right">
                        <span>
                            Коэффициент эксплуатации
                        </span>
                        <input ng-model="area.service_factor" class="form-control" type="text">
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="border reflections">
                <div>
                    <label>Коэффициенты отражения материалов отделки</label>
                    <span class="pull-right help"  tooltip-placement="left" tooltip="Подсказка слева">?</span>
                </div>
                <div class="content">
                    <div class="pull-left mr">
                        <b><span>По умолчанию p потолка, стены и пола</span></b>
                    </div>
                    <div class="pull-left select">
                        <select class="form-control" ng-model="area.reflection" convert-to-number>
                            <option ng-value="$index" ng-repeat="item in reflections track by $index">
                                {{item}}
                            </option>
                        </select> 
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
            <div class="title">
                Параметры освещения
            </div>
            <div class="border params_light">
                <div class="head">
                    <span class="pull-right help"  tooltip-placement="left" tooltip="Подсказка слева">?</span>
                    <label>Освещенность, лк</label>
                    <input class="form-control" type="text" ng-model="area.medium_light">
                </div>
                <div>
                    <div class="pull-left r_groupe">
                        <span><input ng-model="area.location" value="1"  type="radio"><label class="black" for="">на полу</label></span>
                        <span><input ng-model="area.location"  value="2"  type="radio"><label  class="black" for="">на столах</label></span>
                    </div>
                    <div class="pull-left slider">
                        <div class="slide">
                            <div ui-slider min="100" max="1000" step="10" ng-model="area.medium_light"></div>
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
        <div class="clear"></div>
    </div>
    <div class="block">
        <button ng-click="calculate()" class="pull-right calculate">Рассчитать</button>
    </div>
    <div>
        <div class="title">Результаты расчета</div>
        <table class="table table-hover">
            <tr>
                <th>№</th>
                <th>Название</th>
                <th>Артикул</th>
                <th>Тип лампы</th>
                <th>
                    <span>Положение лампы</span>
                    <span class="pull-right help"  tooltip-placement="right" tooltip="Подсказка справа">?</span>
                </th>
                <th>Мощность светильника, Вт</th>
                <th>Количество светильников</th>
                <th>Расчетный коэф. запаса Кз</th>
                <th>Мощность установки, кВт</th>
                <th>Рекомендуемое кол-во чисток в год</th>
            </tr>
            <tr ng-repeat="lamp in DBheader.content track by $index">
                <td>{{$index + 1}}</td>
                <td>{{lamp.name}}</td>
                <td>{{lamp.article}}</td>
                <td>{{DBheader.get_type_lamp(lamp.type_lamp_id)}}</td>
                <td>{{lamp.location}}</td>
                <td>{{DBheader.get_power_lamp(lamp.power_lamp_id)}}</td>
                <td>{{lamp.col_lamp}}</td>
                <td>{{lamp.safety_factor}}</td>
                <td>{{lamp.summ_power}}</td>
                <td>2</td>
            </tr>
        </table>
    </div>
</div>